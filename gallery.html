<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Gallery of Government Primary School, Chhindibirhi - Photos of school activities." />
  <title>рдЧреИрд▓рд░реА - рд╢рд╛рд╕рдХреАрдп рдкреНрд░рд╛рдердорд┐рдХ рд╢рд╛рд▓рд╛, рдЫрд┐рдВрджрд┐рдмрд┐рд░рд╣реА</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="icon" href="images/school-logo.png" type="image/png" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>

  <!--Remove Frome Here If Error-->
    <!-- Primary Meta Tags -->
  <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Basic SEO Meta Tags -->
    <title>рд╢рд╛рд╕рдХреАрдп рдкреНрд░рд╛рдердорд┐рдХ рд╢рд╛рд▓рд╛ рдЫрд┐рдВрджрд┐рдмрд┐рд░рд╣реА | рд░рд╛рдЬрдирд╛рдВрджрдЧрд╛рдБрд╡, рдЫрддреНрддреАрд╕рдЧрдврд╝</title>
    <meta name="description" content="рд╢рд╛рд╕рдХреАрдп рдкреНрд░рд╛рдердорд┐рдХ рд╢рд╛рд▓рд╛ рдЫрд┐рдВрджрд┐рдмрд┐рд░рд╣реА, рд░рд╛рдЬрдирд╛рдВрджрдЧрд╛рдБрд╡, рдЫрддреНрддреАрд╕рдЧрдврд╝ред рдирд┐рдГрд╢реБрд▓реНрдХ рдЧреБрдгрд╡рддреНрддрд╛рдкреВрд░реНрдг рд╢рд┐рдХреНрд╖рд╛, рдордзреНрдпрд╛рд╣реНрди рднреЛрдЬрди, рдФрд░ рд╕реБрд╡рд┐рдзрд╛рдПрдБред рдХрдХреНрд╖рд╛ 1-5 рдореЗрдВ рджрд╛рдЦрд┐рд▓рд╛ рд▓реЗрдВ!">
    <meta name="keywords" content="рд╢рд╛рд╕рдХреАрдп рдкреНрд░рд╛рдердорд┐рдХ рд╢рд╛рд▓рд╛ рдЫрд┐рдВрджрд┐рдмрд┐рд░рд╣реА, government primary school Chhindibirhi, primary school Rajnandgaon, free education Chhattisgarh, school admissions Rajnandgaon">
    <meta name="author" content="Government Primary School Chhindibirhi">
    <meta name="robots" content="index, follow">
    <meta name="language" content="Hindi, English">

    <!-- Open Graph for Social Sharing -->
    <meta property="og:title" content="Government Primary School Chhindibirhi | Rajnandgaon">
    <meta property="og:description" content="Quality free education at Government Primary School Chhindibirhi, Rajnandgaon, Chhattisgarh.">
    <meta property="og:image" content="https://gps-chhindibirhi.netlify.app/images/school-front.jpg">
    <meta property="og:url" content="https://gps-chhindibirhi.netlify.app/">
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="Government Primary School Chhindibirhi">

    <!-- Twitter Card Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="рд╢рд╛рд╕рдХреАрдп рдкреНрд░рд╛рдердорд┐рдХ рд╢рд╛рд▓рд╛ рдЫрд┐рдВрджрд┐рдмрд┐рд░рд╣реА | рд░рд╛рдЬрдирд╛рдВрджрдЧрд╛рдБрд╡">
    <meta name="twitter:description" content="рдЫрд┐рдВрджрд┐рдмрд┐рд░рд╣реА, рд░рд╛рдЬрдирд╛рдВрджрдЧрд╛рдБрд╡ рдореЗрдВ рдирд┐рдГрд╢реБрд▓реНрдХ рдкреНрд░рд╛рдердорд┐рдХ рд╢рд┐рдХреНрд╖рд╛ред">
    <meta name="twitter:image" content="https://gps-chhindibirhi.netlify.app/images/school-front.jpg">

    <!-- Canonical URL -->
    <link rel="canonical" href="https://gps-chhindibirhi.netlify.app/">

    <!-- Favicon -->
    <link rel="icon" href="/favicon.ico" type="image/x-icon">

    <!-- Schema Markup for School (JSON-LD) -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "School",
      "name": "Government Primary School Chhindibirhi",
      "alternateName": "рд╢рд╛рд╕рдХреАрдп рдкреНрд░рд╛рдердорд┐рдХ рд╢рд╛рд▓рд╛ рдЫрд┐рдВрджрд┐рдмрд┐рд░рд╣реА",
      "description": "Government-run primary school in Chhindibirhi, Rajnandgaon, Chhattisgarh, offering free education, mid-day meals, and modern facilities for Classes 1-5.",
      "url": "https://gps-chhindibirhi.netlify.app/",
      "address": {
        "@type": "PostalAddress",
        "streetAddress": "Chhindibirhi Village",
        "addressLocality": "Rajnandgaon",
        "addressRegion": "Chhattisgarh",
        "postalCode": "491441",
        "addressCountry": "IN"
      },
      "telephone": "+91-7000810232",
      "email": "gps.chhindibirhi@gmail.com",
      "educationalLevel": "Primary School",
      "curriculum": "Chhattisgarh Board",
      "openingHours": "Mo-Fr 10:00-16:00, Sa 07:30-11:30",
      "image": "https://gps-chhindibirhi.netlify.app/images/school-front.jpg",
      "foundingDate": "1995",
      "numberOfStudents": 21
    }
    </script>
  <!--To Here If Error-->
  
</head>
<body>
  <header>
    <a href="index.html" class="header-link" aria-label="Return to homepage">
      <div class="logo-placeholder">
        <img src="images/school-logo.png" alt="Government Primary School Chhindibirhi Logo" class="logo" loading="lazy">
        <span class="lang-hindi" lang="hi">ЁЯПл рд╢рд╛рд╕рдХреАрдп рдкреНрд░рд╛рдердорд┐рдХ рд╢рд╛рд▓рд╛, рдЫрд┐рдВрджрд┐рдмрд┐рд░рд╣реА</span>
        <span class="lang-english" lang="en">Government Primary School, Chhindibirhi</span>
      </div>
    </a>
  </header>

  <nav class="navbar">
    <button class="menu-toggle" aria-label="Toggle navigation">тШ░</button>
    <div class="nav-links">
      <a href="index.html">рд╣реЛрдо</a>
      <a href="about.html">рд╣рдорд╛рд░реЗ рдмрд╛рд░реЗ рдореЗрдВ</a>
      <a href="gallery.html">рдЧреИрд▓рд░реА</a>
      <a href="contact.html">рд╕рдВрдкрд░реНрдХ</a>
      <a href="school-notice-board/frontend/index.html">рдиреЛрдЯрд┐рд╕ рдмреЛрд░реНрдб</a>
    </div>
  </nav>

  <main>
    <section class="gallery">
      <h1 data-animate>
        <span class="lang-hindi" lang="hi">рдЧреИрд▓рд░реА</span>
        <span class="lang-english" lang="en">Gallery</span>
      </h1>
      <div class="gallery-grid top-level">
        <a href="?category=school_photos" class="gallery-card">
          <span class="lang-hindi" lang="hi">ЁЯУ╖ рд╕реНрдХреВрд▓ рдлреЛрдЯреЛ</span>
          <span class="lang-english" lang="en">School Photos</span>
        </a>
        <a href="?category=events" class="gallery-card">
          <span class="lang-hindi" lang="hi">ЁЯУЕ рдЖрдпреЛрдЬрди</span>
          <span class="lang-english" lang="en">Events</span>
        </a>
        <a href="?category=other_folders" class="gallery-card">
          <span class="lang-hindi" lang="hi">ЁЯУВ рдЕрдиреНрдп рдлреЛрд▓реНрдбрд░</span>
          <span class="lang-english" lang="en">Other Folders</span>
        </a>
      </div>

      <div id="subGallery" class="gallery-grid sub-level" style="display: none;"></div>
      <div id="photoGrid" class="gallery-grid photo-level" style="display: none;">
        <button id="downloadAll" style="display: none;" class="download-all-btn">
          <span class="lang-hindi" lang="hi">рд╕рднреА рддрд╕реНрд╡реАрд░реЗрдВ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░реЗрдВ</span>
          <span class="lang-english" lang="en">Download All Photos</span>
        </button>
      </div>
      <p class="gallery-note">
        <span class="lang-hindi" lang="hi">рдиреЛрдЯ: рддрд╕реНрд╡реАрд░реЗрдВ рд╕реНрдХреВрд▓ рдХрд╛рд░реНрдпрд╛рд▓рдп рд╕реЗ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВред</span>
        <span class="lang-english" lang="en">Note: Photos can be obtained from the school office.</span>
      </p>
    </section>

    <!-- Modal for zoomed image view -->
    <div id="imageModal" class="modal" style="display: none;">
      <span class="close-btn" onclick="closeModal()">&times;</span>
      <img id="modalImage" class="modal-content" alt="Zoomed image">
      <div class="modal-controls">
        <button id="prevBtn" onclick="changeImage(-1)">&#10094;</button>
        <button id="nextBtn" onclick="changeImage(1)">&#10095;</button>
        <a id="downloadBtn" class="download-btn" download>
          <span class="lang-hindi" lang="hi">рдбрд╛рдЙрдирд▓реЛрдб</span>
          <span class="lang-english" lang="en">Download</span>
        </a>
      </div>
    </div>
  </main>

  <footer>
    <p><span class="lang-hindi" lang="hi">┬й 2025 рд╢рд╛рд╕рдХреАрдп рдкреНрд░рд╛рдердорд┐рдХ рд╢рд╛рд▓рд╛, рдЫрд┐рдВрджрд┐рдмрд┐рд░рд╣реА</span><span class="lang-english" lang="en">Government Primary School, Chhindibirhi</span></p>
  </footer>

  <script>
    const urlParams = new URLSearchParams(window.location.search);
    const category = urlParams.get('category');
    const subGallery = document.getElementById('subGallery');
    const photoGrid = document.getElementById('photoGrid');
    const downloadAllBtn = document.getElementById('downloadAll');
    let currentImageIndex = 0;
    let images = [];

    if (category) {
      document.querySelector('.top-level').style.display = 'none';
      subGallery.style.display = 'grid';

      const subFolders = {
        'school_photos': ['inside', 'outside'],
        'events': ['independence_day_2024', 'independence_day_2025', 'sports_day_2025'],
        'other_folders': ['plantation_drive', 'classroom_activities', 'cultural_programs']
      };

      subFolders[category].forEach(folder => {
        const card = document.createElement('a');
        card.href = `?category=${category}&subfolder=${folder}`;
        card.className = 'gallery-card';
        card.innerHTML = `
          <span class="lang-hindi" lang="hi">ЁЯУ╖ ${folder.replace(/_/g, ' ').toUpperCase()}</span>
          <span class="lang-english" lang="en">${folder.replace(/_/g, ' ')}</span>
        `;
        subGallery.appendChild(card);
      });
    }

    const subfolder = urlParams.get('subfolder');
    if (subfolder) {
      subGallery.style.display = 'none';
      photoGrid.style.display = 'grid';
      downloadAllBtn.style.display = 'block';

      // Define image counts per subfolder
      const photoCounts = {
        'school_photos': {
          'inside': 23,
          'outside': 93
        },
        'events': {
          'independence_day_2024': 0,
          'independence_day_2025': 0,
          'sports_day_2025': 0
        },
        'other_folders': {
          'plantation_drive': 0,
          'classroom_activities': 0,
          'cultural_programs': 0
        }
      };

      const photoCount = (photoCounts[category] && photoCounts[category][subfolder]) || 0;

      images = Array.from({ length: photoCount }, (_, i) => `images/gallery/${category}/${subfolder}/image (${i + 1}).jpg`);

      for (let i = 1; i <= photoCount; i++) {
        const photo = document.createElement('div');
        photo.className = 'gallery-photo';
        photo.innerHTML = `<img src="images/gallery/${category}/${subfolder}/image (${i}).jpg" alt="${subfolder} Photo ${i}" loading="lazy" onerror="this.src='images/fallback.png'">`;
        photo.addEventListener('click', () => openModal(i - 1));
        photoGrid.appendChild(photo);
      }

      // Download all images as ZIP
      downloadAllBtn.addEventListener('click', () => {
        const zip = new JSZip();
        const folder = zip.folder(subfolder);
        let loadedImages = 0;

        images.forEach((src, index) => {
          fetch(src)
            .then(response => response.blob())
            .then(blob => {
              folder.file(`image (${index + 1}).jpg`, blob);
              loadedImages++;
              if (loadedImages === images.length) {
                zip.generateAsync({ type: 'blob' }).then(content => {
                  const link = document.createElement('a');
                  link.href = URL.createObjectURL(content);
                  link.download = `${subfolder}.zip`;
                  link.click();
                  URL.revokeObjectURL(link.href);
                });
              }
            })
            .catch(() => {
              loadedImages++;
              if (loadedImages === images.length) {
                zip.generateAsync({ type: 'blob' }).then(content => {
                  const link = document.createElement('a');
                  link.href = URL.createObjectURL(content);
                  link.download = `${subfolder}.zip`;
                  link.click();
                  URL.revokeObjectURL(link.href);
                });
              }
            });
        });
      });
    }

    // Modal functions
    function openModal(index) {
      currentImageIndex = index;
      const modal = document.getElementById('imageModal');
      const modalImg = document.getElementById('modalImage');
      const downloadBtn = document.getElementById('downloadBtn');
      modal.style.display = 'block';
      modalImg.src = images[currentImageIndex];
      downloadBtn.href = images[currentImageIndex];
      downloadBtn.download = `image (${currentImageIndex + 1}).jpg`;
    }

    function closeModal() {
      document.getElementById('imageModal').style.display = 'none';
    }

    function changeImage(direction) {
      currentImageIndex = (currentImageIndex + direction + images.length) % images.length;
      const modalImg = document.getElementById('modalImage');
      const downloadBtn = document.getElementById('downloadBtn');
      modalImg.src = images[currentImageIndex];
      downloadBtn.href = images[currentImageIndex];
      downloadBtn.download = `image (${currentImageIndex + 1}).jpg`;
    }

    // Close modal on outside click
    window.addEventListener('click', (event) => {
      const modal = document.getElementById('imageModal');
      if (event.target === modal) {
        closeModal();
      }
    });

    // Sidebar menu toggle
    const menuToggle = document.querySelector('.menu-toggle');
    const navLinks = document.querySelector('.nav-links');
    menuToggle.addEventListener('click', () => {
      navLinks.classList.toggle('active');
      menuToggle.textContent = navLinks.classList.contains('active') ? 'тЬХ' : 'тШ░';
    });

    navLinks.querySelectorAll('a').forEach(link => {
      link.addEventListener('click', () => {
        navLinks.classList.remove('active');
        menuToggle.textContent = 'тШ░';
      });
    });
  </script>
</body>
</html>