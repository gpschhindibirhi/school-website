<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Gallery of Government Primary School, Chhindibirhi - Photos of school activities." />
  <title>рдЧреИрд▓рд░реА - рд╕рд░рдХрд╛рд░реА рдкреНрд░рд╛рдердорд┐рдХ рд╕реНрдХреВрд▓, рдЫрд┐рдВрджрд┐рдмрд┐рд░рд╣реА</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="icon" href="images/school-logo.png" type="image/png" />
</head>
<body>
  <header>
    <a href="index.html" class="header-link" aria-label="Return to homepage">
      <div class="logo-placeholder">
        <img src="images/school-logo.png" alt="Government Primary School Chhindibirhi Logo" class="logo" loading="lazy">
        <span class="lang-hindi" lang="hi">ЁЯПл рд╕рд░рдХрд╛рд░реА рдкреНрд░рд╛рдердорд┐рдХ рд╕реНрдХреВрд▓, рдЫрд┐рдВрджрд┐рдмрд┐рд░рд╣реА</span>
        <span class="lang-english" lang="en">Government Primary School, Chhindibirhi</span>
      </div>
    </a>
  </header>

  <nav class="navbar">
    <button class="menu-toggle" aria-label="Toggle navigation">тШ░</button>
    <div class="nav-links">
      <a href="index.html">рд╣реЛрдо</a>
      <a href="about.html">рд╣рдорд╛рд░реЗ рдмрд╛рд░реЗ рдореЗрдВ</a>
      <a href="gallery.html">рдЧреИрд▓рд░реА</a>
      <a href="contact.html">рд╕рдВрдкрд░реНрдХ</a>
      <a href="school-notice-board/frontend/index.html">рдиреЛрдЯрд┐рд╕ рдмреЛрд░реНрдб</a>
    </div>
  </nav>

  <main>
    <section class="gallery">
      <h1 data-animate>
        <span class="lang-hindi" lang="hi">рдЧреИрд▓рд░реА</span>
        <span class="lang-english" lang="en">Gallery</span>
      </h1>
      <div class="gallery-grid top-level">
        <a href="?category=school_photos" class="gallery-card">
          <span class="lang-hindi" lang="hi">ЁЯУ╖ рд╕реНрдХреВрд▓ рдлреЛрдЯреЛ</span>
          <span class="lang-english" lang="en">School Photos</span>
        </a>
        <a href="?category=events" class="gallery-card">
          <span class="lang-hindi" lang="hi">ЁЯУЕ рдЖрдпреЛрдЬрди</span>
          <span class="lang-english" lang="en">Events</span>
        </a>
        <a href="?category=other_folders" class="gallery-card">
          <span class="lang-hindi" lang="hi">ЁЯУВ рдЕрдиреНрдп рдлреЛрд▓реНрдбрд░</span>
          <span class="lang-english" lang="en">Other Folders</span>
        </a>
      </div>

      <div id="subGallery" class="gallery-grid sub-level" style="display: none;"></div>
      <div id="photoGrid" class="gallery-grid photo-level" style="display: none;"></div>
      <p class="gallery-note">
        <span class="lang-hindi" lang="hi">рдиреЛрдЯ: рддрд╕реНрд╡реАрд░реЗрдВ рд╕реНрдХреВрд▓ рдХрд╛рд░реНрдпрд╛рд▓рдп рд╕реЗ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВред</span>
        <span class="lang-english" lang="en">Note: Photos can be obtained from the school office.</span>
      </p>
    </section>
  </main>

  <footer>
    <p><span class="lang-hindi" lang="hi">┬й 2025 рд╕рд░рдХрд╛рд░реА рдкреНрд░рд╛рдердорд┐рдХ рд╕реНрдХреВрд▓, рдЫрд┐рдВрджрд┐рдмрд┐рд░рд╣реА</span><span class="lang-english" lang="en">Government Primary School, Chhindibirhi</span></p>
  </footer>

  <script>
    const urlParams = new URLSearchParams(window.location.search);
    const category = urlParams.get('category');
    const subGallery = document.getElementById('subGallery');
    const photoGrid = document.getElementById('photoGrid');

    if (category) {
      document.querySelector('.top-level').style.display = 'none';
      subGallery.style.display = 'grid';

      const subFolders = {
        'school_photos': ['inside', 'outside'],
        'events': ['independence_day_2024', 'independence_day_2025', 'sports_day_2025'],
        'other_folders': ['plantation_drive', 'classroom_activities', 'cultural_programs']
      };

      subFolders[category].forEach(folder => {
        const card = document.createElement('a');
        card.href = `?category=${category}&subfolder=${folder}`;
        card.className = 'gallery-card';
        card.innerHTML = `
          <span class="lang-hindi" lang="hi">ЁЯУ╖ ${folder.replace(/_/g, ' ').toUpperCase()}</span>
          <span class="lang-english" lang="en">${folder.replace(/_/g, ' ')}</span>
        `;
        subGallery.appendChild(card);
      });
    }

    const subfolder = urlParams.get('subfolder');
    if (subfolder) {
      subGallery.style.display = 'none';
      photoGrid.style.display = 'grid';

      // Define image counts per subfolder
      const photoCounts = {
        'school_photos': {
          'inside': 23, // Example: 15 images in 'inside'
          'outside': 93  // Example: 20 images in 'outside'
        },
        'events': {
          'independence_day_2024': 10,
          'independence_day_2025': 12,
          'sports_day_2025': 18
        },
        'other_folders': {
          'plantation_drive': 8,
          'classroom_activities': 25,
          'cultural_programs': 30
        }
      };

      // Get the number of photos for the current subfolder (default to 100 if not specified)
      const photoCount = (photoCounts[category] && photoCounts[category][subfolder]) || 100;

      for (let i = 1; i <= photoCount; i++) {
        const photo = document.createElement('div');
        photo.className = 'gallery-photo';
        photo.innerHTML = `<img src="images/gallery/${category}/${subfolder}/image (${i}).jpg" alt="${subfolder} Photo ${i}" loading="lazy" onerror="this.src='images/fallback.jpg'">`;
        photoGrid.appendChild(photo);
      }
    }

    // Sidebar menu toggle
    const menuToggle = document.querySelector('.menu-toggle');
    const navLinks = document.querySelector('.nav-links');
    menuToggle.addEventListener('click', () => {
      navLinks.classList.toggle('active');
      menuToggle.textContent = navLinks.classList.contains('active') ? 'тЬХ' : 'тШ░';
    });

    // Close sidebar on link click
    navLinks.querySelectorAll('a').forEach(link => {
      link.addEventListener('click', () => {
        navLinks.classList.remove('active');
        menuToggle.textContent = 'тШ░';
      });
    });
  </script>
</body>
</html>